{"version":3,"file":"index.js","sources":["../../../src/services/platform.ts","../../node_modules/react-gamepad/lib/layouts/XBOX.js","../../node_modules/react-gamepad/lib/layouts/index.js","../../node_modules/react-gamepad/lib/Gamepad.js","../../node_modules/react-gamepad/lib/index.js","../../node_modules/style-inject/dist/style-inject.es.js","../../node_modules/react-joystick-component/build/lib/enums/shape.enum.js","../../node_modules/react-joystick-component/build/lib/shapes/shape.factory.js","../../node_modules/react-joystick-component/build/lib/shapes/shape.bounds.factory.js","../../node_modules/react-joystick-component/build/lib/Joystick.js","../../node_modules/react-joystick-component/build/lib/index.js","../../../src/components/VirtualJoystic/VirtualJoystick.tsx","../../../src/services/VirtualJoysticToGamepad.ts","../../../src/components/InputManager/InputManager.tsx","../../../src/services/vibrate.ts"],"sourcesContent":[null,"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = {\n  buttons: ['A', 'B', 'X', 'Y', 'LB', 'RB', 'LT', 'RT', 'Back', 'Start', 'LS', 'RS', 'DPadUp', 'DPadDown', 'DPadLeft', 'DPadRight'],\n  axis: ['LeftStickX', '-LeftStickY', 'RightStickX', '-RightStickY'],\n  buttonAxis: [null, null, null, null, null, null, 'LeftTrigger', 'RightTrigger']\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.XBOX = undefined;\n\nvar _XBOX = require('./XBOX');\n\nvar _XBOX2 = _interopRequireDefault(_XBOX);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.XBOX = _XBOX2.default;\nexports.default = {\n  XBOX: _XBOX2.default\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _layouts = require('./layouts');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Gamepad = function (_React$Component) {\n  _inherits(Gamepad, _React$Component);\n\n  function Gamepad(props, context) {\n    _classCallCheck(this, Gamepad);\n\n    var _this = _possibleConstructorReturn(this, (Gamepad.__proto__ || Object.getPrototypeOf(Gamepad)).call(this, props, context));\n\n    _this.padState = {\n      connected: false,\n\n      buttons: {\n        A: false,\n        B: false,\n        X: false,\n        Y: false,\n\n        LB: false,\n        LT: false,\n        LS: false,\n\n        RB: false,\n        RT: false,\n        RS: false,\n\n        Start: false,\n        Back: false,\n\n        DPadUp: false,\n        DPadRight: false,\n        DPadDown: false,\n        DPadLeft: false\n      },\n\n      axis: {\n        LeftStickX: 0.0,\n        LeftStickY: 0.0,\n\n        RightStickX: 0.0,\n        RightStickY: 0.0,\n\n        RightTrigger: 0.0,\n        LeftTrigger: 0.0\n      }\n    };\n    return _this;\n  }\n\n  _createClass(Gamepad, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.mounted = true;\n\n      if (window && window.requestAnimationFrame) window.requestAnimationFrame(this.updateGamepad.bind(this));\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.mounted = false;\n    }\n  }, {\n    key: 'updateGamepad',\n    value: function updateGamepad() {\n      if (!this.mounted) return;\n\n      var gamepadIndex = this.props.gamepadIndex;\n      var gamepads = navigator.getGamepads();\n\n      if (gamepads.length && gamepads.length > gamepadIndex && gamepads[gamepadIndex]) {\n        var gamepad = gamepads[gamepadIndex];\n\n        if (!this.padState.connected) {\n          this.padState.connected = true;\n          this.props.onConnect(gamepadIndex);\n        }\n\n        this.updateAllButtons(gamepad);\n        this.updateAllAxis(gamepad);\n      } else if (this.padState.connected) {\n        this.padState.connected = false;\n        this.props.onDisconnect(gamepadIndex);\n      }\n\n      if (window && window.requestAnimationFrame) window.requestAnimationFrame(this.updateGamepad.bind(this));\n    }\n  }, {\n    key: 'updateAllButtons',\n    value: function updateAllButtons(gamepad) {\n      for (var i = 0; i < gamepad.buttons.length; ++i) {\n        var pressed = gamepad.buttons[i].pressed;\n        var value = gamepad.buttons[i].value;\n\n        var buttonName = this.buttonIndexToButtonName(i);\n        this.updateButton(buttonName, pressed);\n\n        var axisName = this.buttonIndexToAxisName(i);\n        this.updateAxis(axisName, value);\n      }\n    }\n  }, {\n    key: 'updateButton',\n    value: function updateButton(buttonName, pressed) {\n      if (this.padState.buttons[buttonName] === undefined) {\n        return;\n      }\n      if (this.padState.buttons[buttonName] !== pressed) {\n        this.padState.buttons[buttonName] = pressed;\n\n        this.props.onButtonChange(buttonName, pressed);\n        this.props['onButton' + (pressed ? 'Down' : 'Up')](buttonName);\n        if (pressed) this.props['on' + buttonName.replace('DPad', '')]();\n      }\n    }\n  }, {\n    key: 'updateAllAxis',\n    value: function updateAllAxis(gamepad) {\n      for (var i = 0; i < gamepad.axes.length; ++i) {\n        var axisName = this.axisIndexToAxisName(i);\n        var value = gamepad.axes[i];\n\n        this.updateAxis(axisName, gamepad.axes[i]);\n      }\n    }\n  }, {\n    key: 'updateAxis',\n    value: function updateAxis(axisName, originalValue) {\n      if (axisName && originalValue !== undefined && originalValue !== null && originalValue !== NaN) {\n        var invert = axisName[0] === '-';\n        var value = originalValue * (invert ? -1 : 1);\n\n        if (Math.abs(value) < this.props.deadZone) {\n          value = 0;\n        }\n\n        if (invert) axisName = axisName.substr(1);\n\n        if (this.padState.axis[axisName] !== value) {\n          var previousValue = this.padState.axis[axisName];\n          this.padState.axis[axisName] = value;\n\n          this.props.onAxisChange(axisName, value, previousValue);\n\n          if (axisName === 'LeftStickX') {\n            if (previousValue <= this.props.stickThreshold && value > this.props.stickThreshold) {\n              this.props.onRight();\n            }\n\n            if (previousValue >= -this.props.stickThreshold && value < -this.props.stickThreshold) {\n              this.props.onLeft();\n            }\n          }\n\n          if (axisName === 'LeftStickY') {\n            if (previousValue <= this.props.stickThreshold && value > this.props.stickThreshold) {\n              this.props.onUp();\n            }\n\n            if (previousValue >= -this.props.stickThreshold && value < -this.props.stickThreshold) {\n              this.props.onDown();\n            }\n          }\n        }\n      }\n    }\n  }, {\n    key: 'buttonIndexToButtonName',\n    value: function buttonIndexToButtonName(index) {\n      var layout = this.props.layout;\n\n\n      if (layout.buttons && layout.buttons.length >= index + 1) {\n        return layout.buttons[index];\n      }\n\n      return null;\n    }\n  }, {\n    key: 'buttonIndexToAxisName',\n    value: function buttonIndexToAxisName(index) {\n      var layout = this.props.layout;\n\n\n      if (layout.buttonAxis && layout.buttonAxis.length >= index + 1) {\n        return layout.buttonAxis[index];\n      }\n\n      return null;\n    }\n  }, {\n    key: 'axisIndexToAxisName',\n    value: function axisIndexToAxisName(index) {\n      var layout = this.props.layout;\n\n\n      if (layout.axis && layout.axis.length >= index + 1) {\n        return layout.axis[index];\n      }\n\n      return null;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.Children.only(this.props.children);\n    }\n  }]);\n\n  return Gamepad;\n}(_react2.default.Component);\n\nGamepad.defaultProps = {\n  layout: _layouts.XBOX,\n\n  stickThreshold: 0.5,\n  deadZone: 0.08,\n\n  gamepadIndex: 0,\n\n  onConnect: function onConnect() {},\n  onDisconnect: function onDisconnect() {},\n\n  onButtonDown: function onButtonDown() {},\n  onButtonUp: function onButtonUp() {},\n  onButtonChange: function onButtonChange() {},\n  onAxisChange: function onAxisChange() {},\n\n  onA: function onA() {},\n  onB: function onB() {},\n  onX: function onX() {},\n  onY: function onY() {},\n\n  onStart: function onStart() {},\n  onBack: function onBack() {},\n\n  onLT: function onLT() {},\n  onRT: function onRT() {},\n\n  onLB: function onLB() {},\n  onRB: function onRB() {},\n\n  onLS: function onLS() {},\n  onRS: function onRS() {},\n\n  onUp: function onUp() {},\n  onDown: function onDown() {},\n  onLeft: function onLeft() {},\n  onRight: function onRight() {}\n};\nexports.default = Gamepad;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.layouts = exports.Gamepad = undefined;\n\nvar _Gamepad = require('./Gamepad');\n\nvar _Gamepad2 = _interopRequireDefault(_Gamepad);\n\nvar _layouts = require('./layouts');\n\nvar _layouts2 = _interopRequireDefault(_layouts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_Gamepad2.default.layouts = _layouts2.default;\n\nexports.Gamepad = _Gamepad2.default;\nexports.layouts = _layouts2.default;\nexports.default = _Gamepad2.default;","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JoystickShape = void 0;\nvar JoystickShape;\n(function (JoystickShape) {\n    JoystickShape[\"Circle\"] = \"circle\";\n    JoystickShape[\"Square\"] = \"square\";\n})(JoystickShape = exports.JoystickShape || (exports.JoystickShape = {}));\n//# sourceMappingURL=shape.enum.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shapeFactory = void 0;\nvar shape_enum_1 = require(\"../enums/shape.enum\");\nvar shapeFactory = function (shape, size) {\n    switch (shape) {\n        case shape_enum_1.JoystickShape.Circle:\n            return {\n                borderRadius: size,\n            };\n        case shape_enum_1.JoystickShape.Square:\n            return {\n                borderRadius: Math.sqrt(size)\n            };\n    }\n};\nexports.shapeFactory = shapeFactory;\n//# sourceMappingURL=shape.factory.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.shapeBoundsFactory = void 0;\nvar shape_enum_1 = require(\"../enums/shape.enum\");\nvar shapeBoundsFactory = function (shape, absoluteX, absoluteY, relativeX, relativeY, dist, radius, baseSize, parentRect) {\n    switch (shape) {\n        case shape_enum_1.JoystickShape.Square:\n            relativeX = getWithinBounds(absoluteX - parentRect.left - (baseSize / 2), baseSize);\n            relativeY = getWithinBounds(absoluteY - parentRect.top - (baseSize / 2), baseSize);\n            return { relativeX: relativeX, relativeY: relativeY };\n        default:\n            if (dist > radius) {\n                relativeX *= radius / dist;\n                relativeY *= radius / dist;\n            }\n            return { relativeX: relativeX, relativeY: relativeY };\n    }\n};\nexports.shapeBoundsFactory = shapeBoundsFactory;\nvar getWithinBounds = function (value, baseSize) {\n    var halfBaseSize = baseSize / 2;\n    if (value > halfBaseSize) {\n        return halfBaseSize;\n    }\n    if (value < -(halfBaseSize)) {\n        return halfBaseSize * -1;\n    }\n    return value;\n};\n//# sourceMappingURL=shape.bounds.factory.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Joystick = void 0;\nvar React = require(\"react\");\nvar shape_enum_1 = require(\"./enums/shape.enum\");\nvar shape_factory_1 = require(\"./shapes/shape.factory\");\nvar shape_bounds_factory_1 = require(\"./shapes/shape.bounds.factory\");\nvar InteractionEvents;\n(function (InteractionEvents) {\n    InteractionEvents[\"PointerDown\"] = \"pointerdown\";\n    InteractionEvents[\"PointerMove\"] = \"pointermove\";\n    InteractionEvents[\"PointerUp\"] = \"pointerup\";\n})(InteractionEvents || (InteractionEvents = {}));\n/**\n * Radians identifying the direction of the joystick\n */\nvar RadianQuadrantBinding;\n(function (RadianQuadrantBinding) {\n    RadianQuadrantBinding[RadianQuadrantBinding[\"TopRight\"] = 2.35619449] = \"TopRight\";\n    RadianQuadrantBinding[RadianQuadrantBinding[\"TopLeft\"] = -2.35619449] = \"TopLeft\";\n    RadianQuadrantBinding[RadianQuadrantBinding[\"BottomRight\"] = 0.785398163] = \"BottomRight\";\n    RadianQuadrantBinding[RadianQuadrantBinding[\"BottomLeft\"] = -0.785398163] = \"BottomLeft\";\n})(RadianQuadrantBinding || (RadianQuadrantBinding = {}));\nvar Joystick = /** @class */ (function (_super) {\n    __extends(Joystick, _super);\n    function Joystick(props) {\n        var _this = _super.call(this, props) || this;\n        _this._stickRef = React.createRef();\n        _this._baseRef = React.createRef();\n        _this._pointerId = null;\n        _this.state = {\n            dragging: false\n        };\n        _this._throttleMoveCallback = (function () {\n            var lastCall = 0;\n            return function (event) {\n                var now = new Date().getTime();\n                var throttleAmount = _this.props.throttle || 0;\n                if (now - lastCall < throttleAmount) {\n                    return;\n                }\n                lastCall = now;\n                if (_this.props.move) {\n                    return _this.props.move(event);\n                }\n            };\n        })();\n        return _this;\n    }\n    Joystick.prototype.componentWillUnmount = function () {\n        var _this = this;\n        if (this.props.followCursor) {\n            window.removeEventListener(InteractionEvents.PointerMove, function (event) { return _this._pointerMove(event); });\n        }\n    };\n    Joystick.prototype.componentDidMount = function () {\n        var _this = this;\n        if (this.props.followCursor) {\n            //@ts-ignore\n            this._parentRect = this._baseRef.current.getBoundingClientRect();\n            this.setState({\n                dragging: true\n            });\n            window.addEventListener(InteractionEvents.PointerMove, function (event) { return _this._pointerMove(event); });\n            if (this.props.start) {\n                this.props.start({\n                    type: \"start\",\n                    x: null,\n                    y: null,\n                    distance: null,\n                    direction: null\n                });\n            }\n        }\n    };\n    /**\n     * Update position of joystick - set state and trigger DOM manipulation\n     * @param coordinates\n     * @private\n     */\n    Joystick.prototype._updatePos = function (coordinates) {\n        var _this = this;\n        window.requestAnimationFrame(function () {\n            _this.setState({\n                coordinates: coordinates\n            });\n        });\n        if (typeof this.props.minDistance === 'number') {\n            if (coordinates.distance < this.props.minDistance) {\n                return;\n            }\n        }\n        this._throttleMoveCallback({\n            type: \"move\",\n            x: coordinates.relativeX,\n            y: -coordinates.relativeY,\n            direction: coordinates.direction,\n            distance: coordinates.distance\n        });\n    };\n    /**\n     * Handle pointerdown event\n     * @param e PointerEvent\n     * @private\n     */\n    Joystick.prototype._pointerDown = function (e) {\n        var _this = this;\n        if (this.props.disabled || this.props.followCursor) {\n            return;\n        }\n        //@ts-ignore\n        this._parentRect = this._baseRef.current.getBoundingClientRect();\n        this.setState({\n            dragging: true\n        });\n        window.addEventListener(InteractionEvents.PointerUp, function (event) { return _this._pointerUp(event); });\n        window.addEventListener(InteractionEvents.PointerMove, function (event) { return _this._pointerMove(event); });\n        this._pointerId = e.pointerId;\n        //@ts-ignore\n        this._stickRef.current.setPointerCapture(e.pointerId);\n        if (this.props.start) {\n            this.props.start({\n                type: \"start\",\n                x: null,\n                y: null,\n                distance: null,\n                direction: null\n            });\n        }\n    };\n    /**\n     * Use ArcTan2 (4 Quadrant inverse tangent) to identify the direction the joystick is pointing\n     * https://docs.oracle.com/cd/B12037_01/olap.101/b10339/x_arcsin003.htm\n     * @param atan2: number\n     * @private\n     */\n    Joystick.prototype._getDirection = function (atan2) {\n        if (atan2 > RadianQuadrantBinding.TopRight || atan2 < RadianQuadrantBinding.TopLeft) {\n            return \"FORWARD\";\n        }\n        else if (atan2 < RadianQuadrantBinding.TopRight && atan2 > RadianQuadrantBinding.BottomRight) {\n            return \"RIGHT\";\n        }\n        else if (atan2 < RadianQuadrantBinding.BottomLeft) {\n            return \"LEFT\";\n        }\n        return \"BACKWARD\";\n    };\n    /**\n     * Hypotenuse distance calculation\n     * @param x: number\n     * @param y: number\n     * @private\n     */\n    Joystick.prototype._distance = function (x, y) {\n        return Math.hypot(x, y);\n    };\n    Joystick.prototype._distanceToPercentile = function (distance) {\n        var percentageBaseSize = distance / (this._baseSize / 2) * 100;\n        if (percentageBaseSize > 100) {\n            return 100;\n        }\n        return percentageBaseSize;\n    };\n    /**\n     * Calculate X/Y and ArcTan within the bounds of the joystick\n     * @param event\n     * @private\n     */\n    Joystick.prototype._pointerMove = function (event) {\n        event.preventDefault();\n        if (this.state.dragging) {\n            if (!this.props.followCursor && event.pointerId !== this._pointerId)\n                return;\n            var absoluteX = event.clientX;\n            var absoluteY = event.clientY;\n            var relativeX = absoluteX - this._parentRect.left - this._radius;\n            var relativeY = absoluteY - this._parentRect.top - this._radius;\n            var dist = this._distance(relativeX, relativeY);\n            // @ts-ignore\n            var bounded = (0, shape_bounds_factory_1.shapeBoundsFactory)(\n            //@ts-ignore\n            this.props.controlPlaneShape || this.props.baseShape, absoluteX, absoluteY, relativeX, relativeY, dist, this._radius, this._baseSize, this._parentRect);\n            relativeX = bounded.relativeX;\n            relativeY = bounded.relativeY;\n            var atan2 = Math.atan2(relativeX, relativeY);\n            this._updatePos({\n                relativeX: relativeX,\n                relativeY: relativeY,\n                distance: this._distanceToPercentile(dist),\n                direction: this._getDirection(atan2),\n                axisX: absoluteX - this._parentRect.left,\n                axisY: absoluteY - this._parentRect.top\n            });\n        }\n    };\n    /**\n     * Handle pointer up and de-register listen events\n     * @private\n     */\n    Joystick.prototype._pointerUp = function (event) {\n        var _this = this;\n        if (event.pointerId !== this._pointerId)\n            return;\n        var stateUpdate = {\n            dragging: false,\n        };\n        if (!this.props.sticky) {\n            stateUpdate.coordinates = undefined;\n        }\n        window.requestAnimationFrame(function () {\n            _this.setState(stateUpdate);\n        });\n        window.removeEventListener(InteractionEvents.PointerUp, function (event) { return _this._pointerUp(event); });\n        window.removeEventListener(InteractionEvents.PointerMove, function (event) { return _this._pointerMove(event); });\n        this._pointerId = null;\n        if (this.props.stop) {\n            this.props.stop({\n                type: \"stop\",\n                // @ts-ignore\n                x: this.props.sticky ? this.state.coordinates.relativeX : null,\n                // @ts-ignore\n                y: this.props.sticky ? this.state.coordinates.relativeY : null,\n                // @ts-ignore\n                direction: this.props.sticky ? this.state.coordinates.direction : null,\n                // @ts-ignore\n                distance: this.props.sticky ? this.state.coordinates.distance : null\n            });\n        }\n    };\n    /**\n     * Get the shape stylings for the base\n     * @private\n     */\n    Joystick.prototype.getBaseShapeStyle = function () {\n        var shape = this.props.baseShape || shape_enum_1.JoystickShape.Circle;\n        return (0, shape_factory_1.shapeFactory)(shape, this._baseSize);\n    };\n    /**\n     * Get the shape stylings for the stick\n     * @private\n     */\n    Joystick.prototype.getStickShapeStyle = function () {\n        var shape = this.props.stickShape || shape_enum_1.JoystickShape.Circle;\n        return (0, shape_factory_1.shapeFactory)(shape, this._baseSize);\n    };\n    /**\n     * Calculate base styles for pad\n     * @private\n     */\n    Joystick.prototype._getBaseStyle = function () {\n        var baseColor = this.props.baseColor !== undefined ? this.props.baseColor : \"#000033\";\n        var baseSizeString = \"\".concat(this._baseSize, \"px\");\n        var padStyle = __assign(__assign({}, this.getBaseShapeStyle()), { height: baseSizeString, width: baseSizeString, background: baseColor, display: 'flex', justifyContent: 'center', alignItems: 'center' });\n        if (this.props.baseImage) {\n            padStyle.background = \"url(\".concat(this.props.baseImage, \")\");\n            padStyle.backgroundSize = '100%';\n        }\n        return padStyle;\n    };\n    /**\n     * Calculate  base styles for joystick and translate\n     * @private\n     */\n    Joystick.prototype._getStickStyle = function () {\n        var stickColor = this.props.stickColor !== undefined ? this.props.stickColor : \"#3D59AB\";\n        var stickSize = \"\".concat(this._baseSize / 1.5, \"px\");\n        var stickStyle = __assign(__assign({}, this.getStickShapeStyle()), { background: stickColor, cursor: \"move\", height: stickSize, width: stickSize, border: 'none', flexShrink: 0, touchAction: 'none' });\n        if (this.props.stickImage) {\n            stickStyle.background = \"url(\".concat(this.props.stickImage, \")\");\n            stickStyle.backgroundSize = '100%';\n        }\n        if (this.state.coordinates !== undefined) {\n            stickStyle = Object.assign({}, stickStyle, {\n                position: 'absolute',\n                transform: \"translate3d(\".concat(this.state.coordinates.relativeX, \"px, \").concat(this.state.coordinates.relativeY, \"px, 0)\")\n            });\n        }\n        return stickStyle;\n    };\n    Joystick.prototype.render = function () {\n        var _this = this;\n        this._baseSize = this.props.size || 100;\n        this._radius = this._baseSize / 2;\n        var baseStyle = this._getBaseStyle();\n        var stickStyle = this._getStickStyle();\n        //@ts-ignore\n        return (React.createElement(\"div\", { className: this.props.disabled ? 'joystick-base-disabled' : '', ref: this._baseRef, style: baseStyle },\n            React.createElement(\"button\", { ref: this._stickRef, disabled: this.props.disabled, onPointerDown: function (event) { return _this._pointerDown(event); }, className: this.props.disabled ? 'joystick-disabled' : '', style: stickStyle })));\n    };\n    return Joystick;\n}(React.Component));\nexports.Joystick = Joystick;\n//# sourceMappingURL=Joystick.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JoystickShape = exports.Joystick = void 0;\nvar Joystick_1 = require(\"./Joystick\");\nObject.defineProperty(exports, \"Joystick\", { enumerable: true, get: function () { return Joystick_1.Joystick; } });\nvar shape_enum_1 = require(\"./enums/shape.enum\");\nObject.defineProperty(exports, \"JoystickShape\", { enumerable: true, get: function () { return shape_enum_1.JoystickShape; } });\n//# sourceMappingURL=index.js.map",null,null,null,null],"names":["getPlatform","userAgent","navigator","toLowerCase","includes","Object","defineProperty","XBOX","value","default","buttons","axis","buttonAxis","layouts","undefined","obj","_XBOX2","require$$0","__esModule","Gamepad_1","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react2","_interopRequireDefault","_layouts","require$$1","Gamepad","_React$Component","context","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","padState","connected","A","B","X","Y","LB","LT","LS","RB","RT","RS","Start","Back","DPadUp","DPadRight","DPadDown","DPadLeft","LeftStickX","LeftStickY","RightStickX","RightStickY","RightTrigger","LeftTrigger","subClass","superClass","create","constructor","setPrototypeOf","_inherits","Component","mounted","window","requestAnimationFrame","updateGamepad","bind","gamepadIndex","gamepads","getGamepads","gamepad","onConnect","updateAllButtons","updateAllAxis","onDisconnect","pressed","buttonName","buttonIndexToButtonName","updateButton","axisName","buttonIndexToAxisName","updateAxis","onButtonChange","replace","axes","axisIndexToAxisName","originalValue","NaN","invert","Math","abs","deadZone","substr","previousValue","onAxisChange","stickThreshold","onRight","onLeft","onUp","onDown","index","layout","Children","only","children","defaultProps","onButtonDown","onButtonUp","onA","onB","onX","onY","onStart","onBack","onLT","onRT","onLB","onRB","onLS","onRS","lib","_Gamepad2","_layouts2","_default","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","JoystickShape","exports","shape_factory","shapeFactory","shape_enum_1","shape","size","Circle","borderRadius","Square","sqrt","shape_bounds_factory","shapeBoundsFactory","absoluteX","absoluteY","relativeX","relativeY","dist","radius","baseSize","parentRect","getWithinBounds","left","top","extendStatics","halfBaseSize","__extends","d","b","Array","p","hasOwnProperty","String","__","__assign","assign","t","s","n","arguments","apply","Joystick_1","Joystick","InteractionEvents","RadianQuadrantBinding","React","shape_factory_1","require$$2","shape_bounds_factory_1","require$$3","_super","lastCall","_stickRef","createRef","_baseRef","_pointerId","state","dragging","_throttleMoveCallback","event","now","Date","getTime","throttleAmount","throttle","move","componentWillUnmount","followCursor","removeEventListener","PointerMove","_pointerMove","componentDidMount","_parentRect","current","getBoundingClientRect","setState","addEventListener","start","x","y","distance","direction","_updatePos","coordinates","minDistance","_pointerDown","e","disabled","PointerUp","_pointerUp","pointerId","setPointerCapture","_getDirection","atan2","TopRight","TopLeft","BottomRight","BottomLeft","_distance","hypot","_distanceToPercentile","percentageBaseSize","_baseSize","preventDefault","clientX","clientY","_radius","bounded","controlPlaneShape","baseShape","axisX","axisY","stateUpdate","sticky","stop","getBaseShapeStyle","getStickShapeStyle","stickShape","_getBaseStyle","baseColor","baseSizeString","concat","padStyle","height","width","background","display","justifyContent","alignItems","baseImage","backgroundSize","_getStickStyle","stickColor","stickSize","stickStyle","cursor","border","flexShrink","touchAction","stickImage","position","transform","render","baseStyle","className","onPointerDown","get","VirtualJoystick","_a","joysticOptions","onMove","onStop","calcCursorPoints","curCursorPosition","lastCursorPosition","mouseSensetivity","getAxisCalc","gamepadValue","gamepadAxis","axisFromGamepad","gamepadAxisLowerCase","toLocaleLowerCase","numberingValue","Number","console","error","InputManager","mouseClickLeftHandler","mouseClickRightHandler","onMouseMoveHandler","controls","showVirtualJoysticOnNoGamepadMobile","virtualJoysticOptionsLeft","virtualJoysticOptionsRight","hideMouseCursor","_b","useState","currentInput","setCurrentInput","_c","setGamepad","lastCursorPosVar","center","useRef","keyboardFunction","keyPressed","handler","find","defKey","keyboardKeyLowerCase","onPress","onLeftMouseClick","onRightMouseClick","checkForEventButton","axisMouseOrGamePad","gamepadButton","onMouseMove","newCursorPos","dif","removeKeyboardEventListeners","useEffect","toShowVirtualJoystic","isMouseClickMenu","isMouseClickLeft","JSON","stringify","platform","Fragment","gamepadsArray","action","btn","gamepadClick","onRelase","bottom","VirtualJoystickButton","button","textColor","right","id","onClick","color","vibrate","vibration","vibrateGamepad","vibratePhone","forEach","vibrateTime","vibrationActuator","playEffect","startDelay","duration","weakMagnitude","strongMagnitude"],"mappings":"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"}